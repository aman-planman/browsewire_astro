---



let data = [];
let hasError = false;

try {
    const ser = await fetch("http://localhost:8055/items/case_studies");

    if (!ser.ok) throw new Error("Services fetch failed");

    const ser_data = await ser.json();
    data = ser_data.data;
} catch (error) {
    console.error("API Error:", error);
    hasError = true;
}
---



   <section class="vl-gallery p-relative z-index-1 pt-100 pb-70">
            <div class="container">
                <div class="row">
                    <!-- single case studies -->

                    {
                        data &&
                            data.length > 0 &&
                            data.map((item: any) => (
                                <div class="col-lg-4 col-md-6">
                                    <div class="vl-gallery-testimonial-2 br-4 fix p-relative mb-30 z-index-1">
                                        <div class="vl-gallery-testimonial-2-image">
                                            <img
                                                class="w-100"
                                                src={`http://localhost:8055/assets/${item.featured_image}`}
                                                alt=""
                                            />
                                        </div>
                                        <div class="vl-gallery-testimonial-2-con">
                                            <h3 class="vl-gallery-testimonial-2-title">
                                                <a href={`/case-studies/${item.slug}`}>
                                                    {item.heading}
                                                </a>
                                            </h3>
                                        </div>
                                        <div
                                            class="vl-gallery-poligon"
                                            style="background-image: url(./assets/img/icons/vl-poligon-2.1.svg);"
                                        >
                                            <h3>
                                                <a href={`/case-studies/${item.slug}`} class="vl-fs-18 vl-white">
                                                    Read More
                                                </a>
                                            </h3>
                                            <span class="blu-bg">
                                                <i class="fa-regular fa-arrow-right" />
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            ))
                    }
                </div>

                {
                    data.length >= 10 && (
                        <div class="row">
                            <div class="col-12 m-auto">
                                <div class="theme-pagination text-center mt-18">
                                    <ul>
                                        <li>
                                            <a href="#">
                                                <i class="fa-solid fa-angle-left" />
                                            </a>
                                        </li>
                                        <li>
                                            <a class="active" href="#">
                                                01
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">02</a>
                                        </li>
                                        <li>...</li>
                                        <li>
                                            <a href="#">12</a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa-solid fa-angle-right" />
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    )
                }

            </div>
        </section>